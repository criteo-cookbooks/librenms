<VirtualHost *:<%= @params[:server_port] %>>
  ServerName <%= @params[:server_name] %>
  <% if @params[:server_aliases] -%>
  ServerAlias <%= @params[:server_aliases].join " " %>
  <% end -%>
  DocumentRoot <%= @params[:docroot] %>

  <% if @params[:enablessl] -%>
  SSLEngine on
  SSLCertificateFile <%= @params[:ssl_cert_path] %>
  SSLCertificateKeyFile <%= @params[:ssl_key_path] %>

  <% end -%>
  <Directory <%= @params[:docroot] %>>
    Options <%= [@params[:directory_options] || "FollowSymLinks" ].flatten.join " " %>
    AllowOverride <%= [@params[:allow_override] || "None" ].flatten.join " " %>
    Require all granted
  </Directory>

</VirtualHost>
