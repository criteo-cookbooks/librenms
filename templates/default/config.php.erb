<?php
## Have a look in defaults.inc.php for examples of settings you can set here. DO NOT EDIT defaults.inc.php!

### Database config
$config['db_host'] = 'localhost';
$config['db_port'] = '3306';
$config['db_user'] = '<%= @db_user %>';
$config['db_pass'] = '<%= @db_pass %>';
$config['db_name'] = '<%= database_name %>';
$config['db_socket'] = '';

// This is the user LibreNMS will run as
//Please ensure this user is created and has the correct permissions to your install
$config['user'] = '<%= @user %>';

### Memcached config - We use this to store realtime usage
$config['memcached']['enable']  = FALSE;
$config['memcached']['host']    = "localhost";
$config['memcached']['port']    = 11211;

### Locations - it is recommended to keep the default
$config['install_dir']    = "<%= @path %>";
$config['rrd_dir']        = "<%= @rrddir %>";

<% if @rrdc_enabled %>
$config['rrdcached']    = "unix:/var/run/rrdcached/rrdcached.sock";
<% end %>

$config['snmp']['community'] = array("public");

$config['update'] = <%= @auto_up %>;

$config['fping'] = "/usr/sbin/fping";
$config['autodiscovery']['xdp'] = <%= @xdp %>;
$config['autodiscovery']['ospf'] = <%= @ospf %>;
$config['autodiscovery']['bgp'] = <%= @bgp %>;
$config['autodiscovery']['snmpscan'] = <%= @snmpscan %>;

$config['rrdtool_version'] = '1.5.5';

$config['geoloc']['latlng'] = true;
$config['geoloc']['engine'] = "google"; //Only one available at present

<% if @ad_enabled %>
$config['auth_mechanism']                  = "active_directory";
$config['auth_ad_url']                     = "<%= @ad_url %>";
$config['auth_ad_domain']                  = "<%= @ad_domain %>";
$config['auth_ad_base_dn']                 = "<%= @ad_dn %>";
$config['auth_ad_check_certificates']      = <%= @ad_check %>;
$config['auth_ad_binduser']                = '<%= @ad_user %>';
$config['auth_ad_bindpassword']            = '<%= @ad_pass %>';
$config['auth_ad_timeout']                 = <%= @ad_timeout %>;
$config['auth_ad_debug']                   = <%= @ad_debug %>;
$config['active_directory']['users_purge'] = <%= @ad_purge %>;
$config['auth_ad_require_groupmembership'] = <%= @ad_req %>;
$config['auth_ad_groups']['<%= ad_adm %>']['level'] = 10;
$config['auth_ad_groups']['<%= ad_api %>']['level'] = 10;
$config['auth_ad_groups']['<%= ad_usr %>']['level']  = 5;
<% else %>
$config['auth_mechanism'] = "mysql"; # default, other options: ldap, http-auth
<% end %>

<% if ( @add_conf_file_path != '' ) %>
if(file_exists( __DIR__ . DIRECTORY_SEPARATOR .  '<%= @add_conf_file_path %>')) {
    include __DIR__ . DIRECTORY_SEPARATOR .  '<%= @add_conf_file_path %>';
}
A
<% end %>
